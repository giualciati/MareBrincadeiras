<app-header></app-header>

<div class="barra-pedidos">
  <button class="btn-voltar" routerLink="/products" aria-label="Voltar">
    <span class="seta"></span>
  </button>
  <span>Meus Pedidos</span>
</div>

<!-- Caso não tenha pedidos -->
<div *ngIf="pedidos.length === 0" class="sem-pedidos">
  <p>Você ainda não fez nenhum pedido.</p>
</div>

<!-- Lista de pedidos -->
<div *ngFor="let pedido of pedidos" class="pedido-container">

  <div class="status">
    <span class="entregue"><i class="icon-truck"></i> Pedido entregue</span>
    <span class="numero-pedido">#{{ pedido.id }}</span>
    <span class="finalizado">FINALIZADO</span>
  </div>

  <!-- Produtos do pedido -->
  <div *ngFor="let produto of pedido.produtos" class="pedido-produto">
    <img [src]="produto.imagem" [alt]="produto.nome" class="produto-img" />
    <div class="produto-info">
      <h3>{{ produto.nome }}</h3>
      <p>Quantidade: x{{ produto.quantidade }}</p>
      <p>Preço unitário: R$ {{ produto.preco | number: '1.2-2' }}</p>
    </div>
    <div class="preco">
      <span>Total: R$ {{ produto.preco * produto.quantidade | number: '1.2-2' }}</span>
    </div>
  </div>

  <!-- Footer do pedido -->
  <div class="pedido-footer">
    <div class="total">
      <span>Total do Pedido:</span>
      <strong>R$ {{ pedido.valorTotal | number: '1.2-2' }}</strong>
    </div>
    <div class="frete-preco">
      Frete: R$ {{ pedido.frete | number: '1.2-2' }}
    </div>
    <div class="acoes">
      <button class="btn comprar" routerLink="/products">
        Comprar Novamente
      </button>
    </div>
  </div>

</div>